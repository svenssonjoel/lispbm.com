<!DOCTYPE html>

<html lang="en-US">

<head>
  <meta charset="UTF-8">
  <meta name="description" content="LispBM Reference Documentation - LispBM Display Library">
  <meta name="keywords" content="lispbm, lisp, reference, documentation, embedded lisp, microcontroller, LispBM Display Library">
  <meta name="author" content="Bo Joel Svensson">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO Meta Tags -->

  <link rel="canonical" href="https://www.lispbm.com/lispbm-reference-manual/displayref/" />
  <meta name="robots" content="index, follow">

  <!-- Open Graph Meta Tags -->

  <meta property="og:title" content="LispBM Display Library">
  <meta property="og:description" content="LispBM Reference Documentation - LispBM Display Library">
  <meta property="og:image" content="https://www.lispbm.com/images/lispbm_llama_small.png">
  <meta property="og:url" content="https://www.lispbm.com/lispbm-reference-manual/displayref/">
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="LispBM">

  <!-- Twitter Card Meta Tags -->

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="LispBM Display Library">
  <meta name="twitter:description" content="LispBM Reference Documentation - LispBM Display Library">
  <meta name="twitter:image" content="https://www.lispbm.com/images/lispbm_llama_small.png">

  <link rel="apple-touch-icon" sizes="180x180" href="https://www.lispbm.com/ico/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://www.lispbm.com/ico/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://www.lispbm.com/ico/favicon-16x16.png">
  <link rel="shortcut icon" href="https://www.lispbm.com/ico/favicon.ico">
  <link rel="icon" type="image/vnd.microsoft.icon" href="https://www.lispbm.com/ico/favicon.ico">
  <link rel="icon" type="image/x-icon" href="https://www.lispbm.com/ico/favicon.ico">
  <link rel="icon" href="https://www.lispbm.com/ico/favicon.ico">
  <link rel="manifest" href="https://www.lispbm.com/ico/site.webmanifest">

  <link rel="stylesheet" href="reference.css">

  <title>LispBM Display Library</title>
</head>

<body>

<div style="max-width: 900px; margin: 0 auto; padding: 20px;">
  <div style="margin-bottom: 20px;">
    <a href="index.html" style="color: #007bff; text-decoration: none;">‚Üê Back to Reference Manual Index</a>
  </div>

<!-- Content starts here -->

<div data-pagefind-body>
<div data-pagefind-filter="Platform">Core LispBM</div>
<div data-pagefind-filter="Document">Displayref</div>
# LispBM Display Library

<p>The display extensions contains a graphics library designed for platforms for with very limited memory resources. The drawing routines in the library operate on rectangular images (arrays) of pixels , called an image buffer.</p>
<p>The values stored in image buffers represents colors via an encoding determined by the image buffer pixel format. A pixel buffer has one of the following formats:</p>
<ul>
<li>indexed2 : 2 colors (1 bit per pixel)</li>
<li>indexed4 : 4 colors (2 bits per pixel)</li>
<li>indexed16 : 16 colors (4 bits per pixel)</li>
<li>rgb332 : 8Bit color</li>
<li>rgb565 : 16bit color</li>
<li>rgb888 : 24bit color</li>
</ul>
<p>Note that the RAM requirement of a 100x100 image is;</p>
<ul>
<li>at indexed2: 1250 Bytes</li>
<li>at indexed4: 2500 Bytes</li>
<li>at indexed16: 5000 Bytes</li>
<li>at rgb332: 10000 Bytes</li>
<li>at rgb565: 20000 Bytes</li>
<li>at rgb888; 30000 Bytes</li>
</ul>
<p>So on an embedded platform you most likely not be able to be working with rgb565, rgb888 other than in very limited areas.</p>
<p>At the low-level end of things you will want to display graphics onto an display. The interface towards the low-level end needs to be implemented for the particular hardware platform and display. For examples of this see <a href="https://github.com/vedderb/vesc_express/tree/main/main/display">vesc_express</a>. The LBM linux REPL has SDL and png backends for the display library.</p>
<p>the display library is specifically designed to allow for using many colors simultaneously on screen, without needing to use full screen high-color buffers. This is done by delaying the choice of color mapping in the <code>indexed2</code>, <code>indexed4</code> and <code>indexed16</code> images until they are presented on screen.</p>
<p>images are rendered onto a display using the function <code>disp-render</code>. <code>disp-render</code> takes an image, a position (x,y) where to draw the image, and a colormapping that can be expressed as a list of colors. for example:</p>
<h1 id="reference">Reference</h1>
<h3 id="disp-render">disp-render</h3>
<p>An image is drawn onto a display using <code>disp-render</code>. The form of a <code>disp-render</code> expression is <code>(disp-render image x y color-list)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>image</code></td>
<td>An image buffer for example created using img-buffer.</td>
</tr>
<tr class="even">
<td><code>x y</code></td>
<td>position of top left corner x,y.</td>
</tr>
<tr class="odd">
<td><code>color-list</code></td>
<td>List of Color value, hex or color values.</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb1"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>(disp-render llama-bin <span class="dv">10</span> <span class="dv">10</span> &#39;(<span class="bn">0x000000</span> <span class="bn">0xFFFFFF</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img1.png >

</td>
<td>

<div class="sourceCode" id="cb2"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb3"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>(disp-render llama-bin <span class="dv">20</span> <span class="dv">20</span> &#39;(<span class="bn">0x000000</span> <span class="bn">0xFF0000</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img2.png >

</td>
<td>

<div class="sourceCode" id="cb4"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb5"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a>(disp-render llama-bin <span class="dv">30</span> <span class="dv">30</span> &#39;(<span class="bn">0x000000</span> <span class="bn">0x00FF00</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img3.png >

</td>
<td>

<div class="sourceCode" id="cb6"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb7"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a>(disp-render llama-bin <span class="dv">30</span> <span class="dv">30</span> &#39;(<span class="bn">0x000000</span> <span class="bn">0x0000FF</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img4.png >

</td>
<td>

<div class="sourceCode" id="cb8"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb9"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a>(disp-render img<span class="dv">-100-100</span> <span class="dv">0</span> <span class="dv">0</span> &#39;(<span class="bn">0x000000</span> <span class="bn">0xFFFFFF</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img5.png >

</td>
<td>

<div class="sourceCode" id="cb10"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb11"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a>(disp-render img<span class="dv">-100-100</span> <span class="dv">0</span> <span class="dv">100</span> &#39;(<span class="bn">0x000000</span> <span class="bn">0xFF0000</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img6.png >

</td>
<td>

<div class="sourceCode" id="cb12"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb13"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>(disp-render img<span class="dv">-100-100</span> <span class="dv">100</span> <span class="dv">0</span> &#39;(<span class="bn">0x000000</span> <span class="bn">0x00FF00</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img7.png >

</td>
<td>

<div class="sourceCode" id="cb14"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb15"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a>(disp-render img<span class="dv">-100-100</span> <span class="dv">100</span> <span class="dv">100</span> &#39;(<span class="bn">0x000000</span> <span class="bn">0x0000FF</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img8.png >

</td>
<td>

<div class="sourceCode" id="cb16"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb17"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a>(disp-render img<span class="dv">-100-100</span> <span class="dv">200</span> <span class="dv">0</span> &#39;(<span class="bn">0x000000</span> <span class="bn">0x00FFFF</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img9.png >

</td>
<td>

<div class="sourceCode" id="cb18"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb19"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a>(disp-render img<span class="dv">-100-100</span> <span class="dv">200</span> <span class="dv">100</span> &#39;(<span class="bn">0x000000</span> <span class="bn">0xFF00FF</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img10.png >

</td>
<td>

<div class="sourceCode" id="cb20"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="disp-render-jpg">disp-render-jpg</h3>
<p>There is a renderer specifically for JPG images. If one is considering to use JPG for images, the images are most likely larger than what is easy to handle with image buffers. The <code>disp-render-jpg</code> decompresses a JPG in small chunks and outputs directly to the display. The form of a <code>disp-render-jpg</code> expression is <code>(disp-render-jpg jpg-data x y)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>jpg-data</code></td>
<td>Imported or otherwise loaded jpg data.</td>
</tr>
<tr class="even">
<td><code>x y</code></td>
<td>position of top left corner x,y.</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb21"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a>(disp-render-jpg my-jpg <span class="dv">0</span> <span class="dv">0</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img11.png >

</td>
<td>

<div class="sourceCode" id="cb22"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="disp-clear">disp-clear</h3>
<p>Use <code>disp-clear</code> to clear the display . The form of a <code>disp-clear</code> expression is <code>(disp-clear opt-color)</code>. <code>opt-color</code> is an optional color value.</p>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb23"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a>(disp-clear)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img12.png >

</td>
<td>

<div class="sourceCode" id="cb24"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb25"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a>(disp-clear <span class="bn">0xFF8822</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img13.png >

</td>
<td>

<div class="sourceCode" id="cb26"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb27"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a>(disp-clear <span class="bn">0x000000</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img14.png >

</td>
<td>

<div class="sourceCode" id="cb28"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="disp-reset">disp-reset</h3>
<p>Use <code>disp-reset</code> to reset the display . What it means to reset a display is display-backend dependend on an display connected over SPI to an MCU, it may mean powercycling and running the initialization sequence of commands. The form of a <code>disp-reset</code> expression is <code>(disp-reset)</code>.</p>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb29"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true"></a>(disp-reset)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img15.png >

</td>
<td>

<div class="sourceCode" id="cb30"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-buffer">img-buffer</h3>
<p>Allocate an image buffer from lbm memory or from a compactable region. The form of an <code>img-buffer</code> expression is <code>(img-buffer opt-dm format width height)</code>.</p>
<table>
<tr>
<td> Example </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb31"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true"></a>(define my-img (img-buffer <span class="at">&#39;indexed2</span> <span class="dv">320</span> <span class="dv">200</span>))</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb32"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true"></a>[<span class="dv">1</span> <span class="dv">64</span> <span class="dv">0</span> <span class="dv">200</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> </span></code></pre></div>
</td>
</tr>
</table>

<table>
<tr>
<td> Example </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb33"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true"></a>(define my-dm (dm-create <span class="dv">10000</span>))</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true"></a>(define my-img (img-buffer my-dm <span class="at">&#39;indexed2</span> <span class="dv">320</span> <span class="dv">200</span>))</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb34"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true"></a>[<span class="dv">1</span> <span class="dv">64</span> <span class="dv">0</span> <span class="dv">200</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> </span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-buffer-1">img-buffer?</h3>
<p>Checks if the argument is likely to be an image buffer.</p>
<table>
<tr>
<td> Example </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb35"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true"></a>(img-buffer? llama-bin)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb36"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb37"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true"></a>(img-buffer? <span class="at">&#39;apa</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb38"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true"></a><span class="va">nil</span></span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-blit">img-blit</h3>
<div class="sourceCode" id="cb39"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true"></a> (img-blit dest src x y transparent ..option)</span></code></pre></div>
<p>Copy pixels from <code>src</code> to <code>dest</code>. <code>x</code> and <code>y</code> are coordinates in <code>dest</code>. Pixels colored <code>transparent</code> in <code>src</code> will be skipped <code>transparent</code> can be set to <code>-1</code> to indicate no transparency</p>
<table>
<thead>
<tr class="header">
<th>Options</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>'(rotate x y deg)</code></td>
<td>Rotate <code>deg</code> degrees around <code>x</code> <code>y</code></td>
</tr>
<tr class="even">
<td><code>'(scale s)</code></td>
<td>Scale by <code>s</code></td>
</tr>
<tr class="odd">
<td><code>'(tile)</code></td>
<td>Tile to fill <code>dest</code></td>
</tr>
<tr class="even">
<td><code>'(clip x y w h)</code></td>
<td>Clip output in destination coords</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb40"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true"></a>(img-blit my-img llama-bin <span class="dv">10</span> <span class="dv">10</span> <span class="dv">-1</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img16.png >

</td>
<td>

<div class="sourceCode" id="cb41"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb42"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true"></a>(img-blit my-img llama-bin <span class="dv">10</span> <span class="dv">10</span> <span class="dv">-1</span> &#39;(rotate <span class="dv">128</span> <span class="dv">128</span> <span class="dv">45</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img17.png >

</td>
<td>

<div class="sourceCode" id="cb43"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb44"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true"></a>(img-blit my-img llama-bin <span class="dv">10</span> <span class="dv">10</span> <span class="dv">-1</span> &#39;(scale <span class="fl">0.500000</span>f32))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img18.png >

</td>
<td>

<div class="sourceCode" id="cb45"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb46"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true"></a>(img-blit my-img llama-bin <span class="dv">10</span> <span class="dv">10</span> <span class="dv">-1</span> &#39;(tile) &#39;(scale <span class="fl">0.200000</span>f32))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img19.png >

</td>
<td>

<div class="sourceCode" id="cb47"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb48"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true"></a>(img-blit my-img llama-bin <span class="dv">10</span> <span class="dv">10</span> <span class="dv">-1</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true"></a>    &#39;(tile)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true"></a>    &#39;(scale <span class="fl">0.2</span>)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true"></a>    &#39;(rotate <span class="dv">10</span> <span class="dv">10</span> <span class="dv">45</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img20.png >

</td>
<td>

<div class="sourceCode" id="cb49"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb50"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true"></a>(img-blit my-img llama-bin <span class="dv">10</span> <span class="dv">10</span> <span class="dv">-1</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true"></a>    &#39;(tile)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true"></a>    &#39;(scale <span class="fl">0.2</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true"></a>    &#39;(rotate <span class="dv">10</span> <span class="dv">10</span> <span class="dv">45</span>)</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true"></a>    &#39;(clip <span class="dv">50</span> <span class="dv">50</span> <span class="dv">250</span> <span class="dv">150</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img21.png >

</td>
<td>

<div class="sourceCode" id="cb51"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-dims">img-dims</h3>
<p><code>img-dims returns the width and height of an image. The form of an </code>img-dims<code>expression is</code>(img-dims image)`.</p>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb52"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true"></a>(img-dims my-img)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img22.png >

</td>
<td>

<div class="sourceCode" id="cb53"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true"></a>(<span class="dv">320</span> <span class="dv">200</span>)</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-arc">img-arc</h3>
<p>Draw an arc into an image. The form of an <code>img-arc</code> expression is <code>(img-arc image cx cy r ang-s ang-e color ..option)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>image</code></td>
<td>An image buffer for example created using img-buffer.</td>
</tr>
<tr class="even">
<td><code>cx cy</code></td>
<td>Center point x,y.</td>
</tr>
<tr class="odd">
<td><code>r</code></td>
<td>Radius.</td>
</tr>
<tr class="even">
<td><code>ang-s ang-e</code></td>
<td>From angle <code>ang-s</code> to <code>ang-e</code> in degrees (float).</td>
</tr>
<tr class="odd">
<td><code>color</code></td>
<td>Color value, range determined by image buffer color depth.</td>
</tr>
</tbody>
</table>
<br> 

<table>
<thead>
<tr class="header">
<th>Option</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>dotted</code></td>
<td>Dotted or dashed, two numeric arguments specifying length of dash and distance between dashes.</td>
</tr>
<tr class="even">
<td><code>filled</code></td>
<td>Filled, no arguments.</td>
</tr>
<tr class="odd">
<td><code>thickness</code></td>
<td>Thickness of line, one argument specifying thickness in pixels.</td>
</tr>
<tr class="even">
<td><code>rounded</code></td>
<td>Rounded edges, no argument.</td>
</tr>
<tr class="odd">
<td><code>resolution</code></td>
<td>One argument, Number of points that are connected into an arc using line segments.</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb54"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true"></a>(img-arc my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">50</span> <span class="dv">160</span> <span class="dv">100</span> <span class="dv">1</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img23.png >

</td>
<td>

<div class="sourceCode" id="cb55"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb56"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true"></a>(img-arc my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">50</span> <span class="dv">160</span> <span class="dv">100</span> <span class="dv">1</span> &#39;(dotted <span class="dv">15</span> <span class="dv">15</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img24.png >

</td>
<td>

<div class="sourceCode" id="cb57"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb58"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true"></a>(img-arc my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">50</span> <span class="dv">160</span> <span class="dv">100</span> <span class="dv">1</span> &#39;(filled))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img25.png >

</td>
<td>

<div class="sourceCode" id="cb59"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb60"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true"></a>(img-arc my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">50</span> <span class="dv">160</span> <span class="dv">100</span> <span class="dv">1</span> &#39;(thickness <span class="dv">10</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img26.png >

</td>
<td>

<div class="sourceCode" id="cb61"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb62"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true"></a>(img-arc my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">50</span> <span class="dv">160</span> <span class="dv">100</span> <span class="dv">1</span> &#39;(rounded))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img27.png >

</td>
<td>

<div class="sourceCode" id="cb63"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb64"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true"></a>(img-arc my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">50</span> <span class="dv">160</span> <span class="dv">100</span> <span class="dv">1</span> &#39;(dotted <span class="dv">15</span> <span class="dv">15</span>) &#39;(resolution <span class="dv">3</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img28.png >

</td>
<td>

<div class="sourceCode" id="cb65"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb66"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true"></a>(img-arc my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">50</span> <span class="dv">160</span> <span class="dv">100</span> <span class="dv">1</span> &#39;(thickness <span class="dv">10</span>) &#39;(rounded))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img29.png >

</td>
<td>

<div class="sourceCode" id="cb67"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-circle">img-circle</h3>
<p>Draw a circle into an image. The form of an <code>img-circle</code> expression is <code>(img-circle image cx cy r color ..option)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>image</code></td>
<td>An image buffer for example created using img-buffer.</td>
</tr>
<tr class="even">
<td><code>cx cy</code></td>
<td>Center point x,y.</td>
</tr>
<tr class="odd">
<td><code>r</code></td>
<td>Radius.</td>
</tr>
<tr class="even">
<td><code>color</code></td>
<td>Color value, range determined by image buffer color depth.</td>
</tr>
</tbody>
</table>
<br> 

<table>
<thead>
<tr class="header">
<th>Option</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>dotted</code></td>
<td>Dotted or dashed, two numeric arguments specifying length of dash and distance between dashes.</td>
</tr>
<tr class="even">
<td><code>filled</code></td>
<td>Filled, no arguments.</td>
</tr>
<tr class="odd">
<td><code>thickness</code></td>
<td>Thickness of line, one argument specifying thickness in pixels.</td>
</tr>
<tr class="even">
<td><code>resolution</code></td>
<td>One argument, Number of points that are connected into an arc using line segments.</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb68"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true"></a>(img-circle my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">80</span> <span class="dv">1</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img30.png >

</td>
<td>

<div class="sourceCode" id="cb69"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb70"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true"></a>(img-circle my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">80</span> <span class="dv">1</span> &#39;(thickness <span class="dv">5</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img31.png >

</td>
<td>

<div class="sourceCode" id="cb71"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb72"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true"></a>(img-circle my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">80</span> <span class="dv">1</span> &#39;(dotted <span class="dv">14</span> <span class="dv">14</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img32.png >

</td>
<td>

<div class="sourceCode" id="cb73"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb74"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true"></a>(img-circle my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">80</span> <span class="dv">1</span> &#39;(filled))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img33.png >

</td>
<td>

<div class="sourceCode" id="cb75"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb76"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true"></a>(img-circle my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">80</span> <span class="dv">1</span> &#39;(dotted <span class="dv">14</span> <span class="dv">14</span>) &#39;(resolution <span class="dv">6</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img34.png >

</td>
<td>

<div class="sourceCode" id="cb77"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-circle-sector">img-circle-sector</h3>
<p>Draw a circle sector into an image. The form of an <code>img-circle-sector</code> expression is <code>(img-circle-sector image cx cy r ang-s ang-e color ..option)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>image</code></td>
<td>An image buffer for example created using img-buffer.</td>
</tr>
<tr class="even">
<td><code>cx cy</code></td>
<td>Center point x,y.</td>
</tr>
<tr class="odd">
<td><code>r</code></td>
<td>Radius.</td>
</tr>
<tr class="even">
<td><code>ang-s ang-e</code></td>
<td>From angle <code>ang-s</code> to <code>ang-e</code> in degrees (float).</td>
</tr>
<tr class="odd">
<td><code>color</code></td>
<td>Color value, range determined by image buffer color depth.</td>
</tr>
</tbody>
</table>
<br> 

<table>
<thead>
<tr class="header">
<th>Option</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>dotted</code></td>
<td>Dotted or dashed, two numeric arguments specifying length of dash and distance between dashes.</td>
</tr>
<tr class="even">
<td><code>filled</code></td>
<td>Filled, no arguments.</td>
</tr>
<tr class="odd">
<td><code>thickness</code></td>
<td>Thickness of line, one argument specifying thickness in pixels.</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb78"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true"></a>(img-circle-sector my-img <span class="dv">220</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">90</span> <span class="dv">200</span> <span class="dv">1</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img35.png >

</td>
<td>

<div class="sourceCode" id="cb79"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb80"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true"></a>(img-circle-sector my-img <span class="dv">220</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">90</span> <span class="dv">200</span> <span class="dv">1</span> &#39;(thickness <span class="dv">3</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img36.png >

</td>
<td>

<div class="sourceCode" id="cb81"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb82"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true"></a>(img-circle-sector my-img <span class="dv">220</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">90</span> <span class="dv">200</span> <span class="dv">1</span> &#39;(dotted <span class="dv">1</span> <span class="dv">4</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img37.png >

</td>
<td>

<div class="sourceCode" id="cb83"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb84"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true"></a>(img-circle-sector my-img <span class="dv">220</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">90</span> <span class="dv">200</span> <span class="dv">1</span> &#39;(filled))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img38.png >

</td>
<td>

<div class="sourceCode" id="cb85"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-circle-segment">img-circle-segment</h3>
<p>Draw a circle segment into an image. The form of an <code>img-circle-segment</code> expression is <code>(img-circle-segment image cx cy r ang-s ang-e color ..option)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>image</code></td>
<td>An image buffer for example created using img-buffer.</td>
</tr>
<tr class="even">
<td><code>cx cy</code></td>
<td>Center point x,y.</td>
</tr>
<tr class="odd">
<td><code>r</code></td>
<td>Radius.</td>
</tr>
<tr class="even">
<td><code>ang-s ang-e</code></td>
<td>From angle <code>ang-s</code> to <code>ang-e</code> in degrees (float).</td>
</tr>
<tr class="odd">
<td><code>color</code></td>
<td>Color value, range determined by image buffer color depth.</td>
</tr>
</tbody>
</table>
<br> 

<table>
<thead>
<tr class="header">
<th>Option</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>dotted</code></td>
<td>Dotted or dashed, two numeric arguments specifying length of dash and distance between dashes.</td>
</tr>
<tr class="even">
<td><code>filled</code></td>
<td>Filled, no arguments.</td>
</tr>
<tr class="odd">
<td><code>thickness</code></td>
<td>Thickness of line, one argument specifying thickness in pixels.</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb86"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true"></a>(img-circle-segment my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">80</span> <span class="dv">0</span> <span class="dv">100</span> <span class="dv">1</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img39.png >

</td>
<td>

<div class="sourceCode" id="cb87"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb88"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true"></a>(img-circle-segment my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">80</span> <span class="dv">0</span> <span class="dv">100</span> <span class="dv">1</span> &#39;(filled))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img40.png >

</td>
<td>

<div class="sourceCode" id="cb89"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb90"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true"></a>(img-circle-segment my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">80</span> <span class="dv">0</span> <span class="dv">100</span> <span class="dv">1</span> &#39;(thickness <span class="dv">5</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img41.png >

</td>
<td>

<div class="sourceCode" id="cb91"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb92"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true"></a>(img-circle-segment my-img <span class="dv">100</span> <span class="dv">100</span> <span class="dv">80</span> <span class="dv">0</span> <span class="dv">100</span> <span class="dv">1</span> &#39;(dotted <span class="dv">1</span> <span class="dv">4</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img42.png >

</td>
<td>

<div class="sourceCode" id="cb93"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-clear">img-clear</h3>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb94"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true"></a>(img-clear my-img)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img43.png >

</td>
<td>

<div class="sourceCode" id="cb95"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb96"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true"></a>(img-clear my-img <span class="dv">1</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img44.png >

</td>
<td>

<div class="sourceCode" id="cb97"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb98"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true"></a>(img-clear my-img <span class="dv">0</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img45.png >

</td>
<td>

<div class="sourceCode" id="cb99"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-color">img-color</h3>
<p>img-color is used to create more complex color objects for use together with disp-render.</p>
<ul>
<li><strong>gradient_x</strong>: vertical gradients from color1 to color2.</li>
<li><strong>gradient_y</strong>: horizontal gradients from color1 to color2.</li>
<li><strong>gradient_x_pre</strong>: precomputes gradient.</li>
<li><strong>gradient_y_pre</strong>: precomputes gradient.</li>
</ul>
<table>
<tr>
<td> Example </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb100"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true"></a>(img-color <span class="at">&#39;regular</span> <span class="bn">0xAABB11</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb101"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true"></a>[<span class="dv">0</span> <span class="dv">67</span> <span class="dv">79</span> <span class="dv">76</span> <span class="dv">17</span> <span class="dv">187</span> <span class="dv">170</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span>]</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb102"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true"></a>(img-color <span class="at">&#39;gradient_x</span> color1 color2 <span class="dv">10</span> <span class="dv">0</span> <span class="at">&#39;repeat</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb103"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true"></a>[<span class="dv">0</span> <span class="dv">67</span> <span class="dv">79</span> <span class="dv">76</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">255</span> <span class="dv">0</span> <span class="dv">255</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span>]</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb104"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true"></a>(img-color <span class="at">&#39;gradient_x_pre</span> color1 color2)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb105"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true"></a>[<span class="dv">0</span> <span class="dv">67</span> <span class="dv">79</span> <span class="dv">76</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">255</span> <span class="dv">0</span> <span class="dv">255</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">3</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">100</span> <span class="dv">9</span> <span class="dv">249</span> <span class="dv">232</span>]</span></code></pre></div>
</td>
</tr>
</table>

<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb106"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true"></a>(define fptr (fopen <span class="st">&quot;images/lama2.bin&quot;</span> <span class="st">&quot;r&quot;</span>))</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true"></a>(define pic (<span class="kw">load-file</span> fptr))</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true"></a>(fclose fptr)</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true"></a>(define c (img-color <span class="at">&#39;gradient_x</span> color1 color2 <span class="dv">100</span> <span class="dv">0</span> <span class="at">&#39;repeat</span>))</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true"></a>(define img (img-buffer <span class="at">&#39;indexed2</span> <span class="dv">320</span> <span class="dv">200</span>))</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true"></a>(img-blit img pic <span class="dv">10</span> <span class="dv">10</span> <span class="dv">-1</span> &#39;(rotate <span class="dv">128</span> <span class="dv">128</span> <span class="dv">45</span>))</span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true"></a>(disp-render img <span class="dv">100</span> <span class="dv">0</span> (<span class="kw">list</span> (img-color <span class="at">&#39;regular</span> <span class="dv">0</span>) c))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img46.png >

</td>
<td>

<div class="sourceCode" id="cb107"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb108"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true"></a>(define fptr (fopen <span class="st">&quot;images/lama2.bin&quot;</span> <span class="st">&quot;r&quot;</span>))</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true"></a>(define pic (<span class="kw">load-file</span> fptr))</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true"></a>(fclose fptr)</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true"></a>(define c (img-color <span class="at">&#39;gradient_y</span> color1 color2 <span class="dv">100</span> <span class="dv">0</span> <span class="at">&#39;mirrored</span>))</span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true"></a>(define img (img-buffer <span class="at">&#39;indexed2</span> <span class="dv">320</span> <span class="dv">200</span>))</span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true"></a>(img-blit img pic <span class="dv">10</span> <span class="dv">10</span> <span class="dv">-1</span> &#39;(rotate <span class="dv">128</span> <span class="dv">128</span> <span class="dv">45</span>))</span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true"></a>(disp-render img <span class="dv">100</span> <span class="dv">0</span> (<span class="kw">list</span> (img-color <span class="at">&#39;regular</span> <span class="dv">0</span>) c))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img47.png >

</td>
<td>

<div class="sourceCode" id="cb109"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-color-set">img-color-set</h3>
<p>With <code>img-color-set</code>you can set properties of a color. The form of a img-color-set expression is <code>(img-color-set color prop value)</code></p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>color</code></td>
<td>Color value creted with img-color.</td>
</tr>
<tr class="even">
<td><code>property</code></td>
<td>Symbol denoting property to change.</td>
</tr>
<tr class="odd">
<td><code>value</code></td>
<td>New value to set property to.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th><code>img-color-set</code></th>
<th>regular</th>
<th>gradient</th>
<th>pre</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>color0</code></td>
<td>‚úì</td>
<td>‚úì</td>
<td>‚úó</td>
</tr>
<tr class="even">
<td><code>color1</code></td>
<td>‚úó</td>
<td>‚úì</td>
<td>‚úó</td>
</tr>
<tr class="odd">
<td><code>width</code></td>
<td>‚úó</td>
<td>‚úì</td>
<td>‚úó</td>
</tr>
<tr class="even">
<td><code>offset</code></td>
<td>‚úó</td>
<td>‚úì</td>
<td>‚úì</td>
</tr>
<tr class="odd">
<td><code>repeat-type</code></td>
<td>‚úó</td>
<td>‚úì</td>
<td>‚úì</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb110"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true"></a>(img-color-set my-color <span class="at">&#39;repeat-type</span> <span class="at">&#39;mirrored</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb111"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb112"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true"></a>(img-color-set my-color <span class="at">&#39;color-0</span> <span class="dv">16711935</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb113"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb114"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true"></a>(img-color-set my-color <span class="at">&#39;color-1</span> <span class="dv">65280</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb115"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb116"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true"></a>(img-color-set my-color <span class="at">&#39;width</span> <span class="dv">10</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb117"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb118"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true"></a>(img-color-set my-color <span class="at">&#39;offset</span> <span class="dv">1</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb119"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-color-get">img-color-get</h3>
<p>With <code>img-color-get</code> you can access properties of a color. The form of an img-color-get expression is <code>(img-color-get color prop)</code></p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>color</code></td>
<td>Color value creted with img-color.</td>
</tr>
<tr class="even">
<td><code>property</code></td>
<td>Symbol denoting property to access.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th><code>img-color-get</code></th>
<th>regular</th>
<th>gradient</th>
<th>pre</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>color0</code></td>
<td>‚úì</td>
<td>‚úì</td>
<td>‚úì</td>
</tr>
<tr class="even">
<td><code>color1</code></td>
<td>‚úó</td>
<td>‚úì</td>
<td>‚úì</td>
</tr>
<tr class="odd">
<td><code>width</code></td>
<td>‚úó</td>
<td>‚úì</td>
<td>‚úì</td>
</tr>
<tr class="even">
<td><code>offset</code></td>
<td>‚úó</td>
<td>‚úì</td>
<td>‚úì</td>
</tr>
<tr class="odd">
<td><code>repeat-type</code></td>
<td>‚úó</td>
<td>‚úì</td>
<td>‚úì</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb120"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true"></a>(img-color-get my-color <span class="at">&#39;repeat-type</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb121"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true"></a>mirrored</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb122"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true"></a>(img-color-get my-color <span class="at">&#39;color-0</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb123"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true"></a>16711935u32</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb124"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true"></a>(img-color-get my-color <span class="at">&#39;color-1</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb125"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true"></a>65280u32</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb126"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true"></a>(img-color-get my-color <span class="at">&#39;width</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb127"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true"></a>10i32</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb128"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true"></a>(img-color-get my-color <span class="at">&#39;offset</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb129"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true"></a>1i32</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-color-setpre">img-color-setpre</h3>
<p>Update a value in a precalculated gradient color. The form of an <code>img-color-setpre</code> expression is <code>(img-color-setpre color pos color-val)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>color</code></td>
<td>Color value creted with img-color.</td>
</tr>
<tr class="even">
<td><code>pos</code></td>
<td>Position in the precomputed colormap to update.</td>
</tr>
<tr class="odd">
<td><code>color-val</code></td>
<td>Color value to write into the position.</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb130"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true"></a>(img-color-setpre my-color-pre <span class="dv">10</span> <span class="dv">16777215</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb131"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb132"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true"></a>(img-color-setpre my-color-pre <span class="dv">11</span> <span class="dv">0</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb133"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb134"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true"></a>(define fptr (fopen <span class="st">&quot;images/lama2.bin&quot;</span> <span class="st">&quot;r&quot;</span>))</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true"></a>(define pic (<span class="kw">load-file</span> fptr))</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true"></a>(fclose fptr)</span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true"></a>(define c (img-color <span class="at">&#39;gradient_x_pre</span> color1 color2 <span class="dv">100</span> <span class="dv">0</span> <span class="at">&#39;repeat</span>))</span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true"></a>(loopfor i <span class="dv">0</span> (<span class="kw">&lt;</span> i <span class="dv">512</span>) (<span class="kw">+</span> i <span class="dv">2</span>)</span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true"></a>         (progn </span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true"></a>             (img-color-setpre c i <span class="dv">16777215</span>)</span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true"></a>             (img-color-setpre c (<span class="kw">+</span> i <span class="dv">1</span>) <span class="dv">0</span>)))</span>
<span id="cb134-9"><a href="#cb134-9" aria-hidden="true"></a>(define img (img-buffer <span class="at">&#39;indexed2</span> <span class="dv">320</span> <span class="dv">200</span>))</span>
<span id="cb134-10"><a href="#cb134-10" aria-hidden="true"></a>(img-blit img pic <span class="dv">10</span> <span class="dv">10</span> <span class="dv">-1</span> &#39;(rotate <span class="dv">128</span> <span class="dv">128</span> <span class="dv">45</span>))</span>
<span id="cb134-11"><a href="#cb134-11" aria-hidden="true"></a>(disp-render img <span class="dv">100</span> <span class="dv">0</span> (<span class="kw">list</span> (img-color <span class="at">&#39;regular</span> <span class="dv">0</span>) c))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img48.png >

</td>
<td>

<div class="sourceCode" id="cb135"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb136"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true"></a>(define fptr (fopen <span class="st">&quot;images/lama2.bin&quot;</span> <span class="st">&quot;r&quot;</span>))</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true"></a>(define pic (<span class="kw">load-file</span> fptr))</span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true"></a>(fclose fptr)</span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true"></a>(define c (img-color <span class="at">&#39;gradient_y_pre</span> color1 color2 <span class="dv">200</span> <span class="dv">0</span> <span class="at">&#39;repeat</span>))</span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true"></a>(loopfor i <span class="dv">0</span> (<span class="kw">&lt;</span> i <span class="dv">200</span>) (<span class="kw">+</span> i <span class="dv">10</span>)</span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true"></a>         (progn </span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true"></a>             (var band-color (<span class="kw">if</span> (<span class="kw">=</span> (<span class="kw">mod</span> (<span class="kw">/</span> i <span class="dv">10</span>) <span class="dv">2</span>) <span class="dv">0</span>) color1 color2))</span>
<span id="cb136-8"><a href="#cb136-8" aria-hidden="true"></a>             (loopfor j <span class="dv">0</span> (<span class="kw">&lt;</span> j <span class="dv">10</span>) (<span class="kw">+</span> j <span class="dv">1</span>)</span>
<span id="cb136-9"><a href="#cb136-9" aria-hidden="true"></a>                      (progn </span>
<span id="cb136-10"><a href="#cb136-10" aria-hidden="true"></a>                          (img-color-setpre c (<span class="kw">+</span> i j) band-color)))))</span>
<span id="cb136-11"><a href="#cb136-11" aria-hidden="true"></a>(define img (img-buffer <span class="at">&#39;indexed2</span> <span class="dv">320</span> <span class="dv">200</span>))</span>
<span id="cb136-12"><a href="#cb136-12" aria-hidden="true"></a>(img-blit img pic <span class="dv">10</span> <span class="dv">10</span> <span class="dv">-1</span> &#39;(rotate <span class="dv">128</span> <span class="dv">128</span> <span class="dv">45</span>))</span>
<span id="cb136-13"><a href="#cb136-13" aria-hidden="true"></a>(disp-render img <span class="dv">100</span> <span class="dv">0</span> (<span class="kw">list</span> (img-color <span class="at">&#39;regular</span> <span class="dv">0</span>) c))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img49.png >

</td>
<td>

<div class="sourceCode" id="cb137"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-color-getpre">img-color-getpre</h3>
<p>Get a value from a precalculated gradient color. The form of an <code>img-color-getpre</code> expression is <code>(img-color-getpre color pos)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>color</code></td>
<td>Color value creted with img-color.</td>
</tr>
<tr class="even">
<td><code>pos</code></td>
<td>Position in the precomputed colormap to update.</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb138"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true"></a>(img-color-getpre my-color-pre <span class="dv">10</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb139"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true"></a>16777215u32</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb140"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true"></a>(img-color-getpre my-color-pre <span class="dv">11</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb141"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true"></a>0u32</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb142"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true"></a>(img-color-getpre my-color-pre <span class="dv">12</span>)</span></code></pre></div>
</td>
<td>

<div class="sourceCode" id="cb143"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true"></a>16121865u32</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-line">img-line</h3>
<p>Draw a line into an image. The form of an <code>img-line</code> expression is <code>(img-line image x1 y1 x2 y2 color ..option)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>image</code></td>
<td>An image buffer for example created using img-buffer.</td>
</tr>
<tr class="even">
<td><code>x1 y1</code></td>
<td>Start point x,y.</td>
</tr>
<tr class="odd">
<td><code>x2 y2</code></td>
<td>End point x,y.</td>
</tr>
<tr class="even">
<td><code>color</code></td>
<td>Color value, range determined by image buffer color depth.</td>
</tr>
</tbody>
</table>
<br> 

<table>
<thead>
<tr class="header">
<th>Option</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>dotted</code></td>
<td>Dotted or dashed, two numeric arguments specifying length of dash and distance between dashes.</td>
</tr>
<tr class="even">
<td><code>filled</code></td>
<td>Filled, no arguments.</td>
</tr>
<tr class="odd">
<td><code>thickness</code></td>
<td>Thickness of line, one argument specifying thickness in pixels.</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb144"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true"></a>(img-line my-img <span class="dv">0</span> <span class="dv">0</span> <span class="dv">320</span> <span class="dv">200</span> <span class="dv">1</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img50.png >

</td>
<td>

<div class="sourceCode" id="cb145"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb146"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true"></a>(img-line my-img <span class="dv">0</span> <span class="dv">200</span> <span class="dv">320</span> <span class="dv">0</span> <span class="dv">1</span> &#39;(thickness <span class="dv">5</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img51.png >

</td>
<td>

<div class="sourceCode" id="cb147"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb148"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true"></a>(img-line my-img <span class="dv">0</span> <span class="dv">0</span> <span class="dv">320</span> <span class="dv">200</span> <span class="dv">1</span> &#39;(dotted <span class="dv">4</span> <span class="dv">20</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img52.png >

</td>
<td>

<div class="sourceCode" id="cb149"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-rectangle">img-rectangle</h3>
<p>Draw a rectangle into an image. The form of an <code>img-rectangle</code> expression is <code>(img-rectangle image x1 y1 w h color ..option)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>image</code></td>
<td>An image buffer for example created using img-buffer.</td>
</tr>
<tr class="even">
<td><code>x1 y1</code></td>
<td>Top left corner x,y.</td>
</tr>
<tr class="odd">
<td><code>w h</code></td>
<td>Width and height.</td>
</tr>
<tr class="even">
<td><code>color</code></td>
<td>Color value, range determined by image buffer color depth.</td>
</tr>
</tbody>
</table>
<br> 

<table>
<thead>
<tr class="header">
<th>Option</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>dotted</code></td>
<td>Dotted or dashed, two numeric arguments specifying length of dash and distance between dashes.</td>
</tr>
<tr class="even">
<td><code>filled</code></td>
<td>Filled, no arguments.</td>
</tr>
<tr class="odd">
<td><code>thickness</code></td>
<td>Thickness of line, one argument specifying thickness in pixels.</td>
</tr>
<tr class="even">
<td><code>rounded</code></td>
<td>Rounded edges, one argument rounded corner angle.</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb150"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true"></a>(img-rectangle my-img <span class="dv">10</span> <span class="dv">10</span> <span class="dv">120</span> <span class="dv">180</span> <span class="dv">1</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img53.png >

</td>
<td>

<div class="sourceCode" id="cb151"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb152"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true"></a>(img-rectangle my-img <span class="dv">10</span> <span class="dv">10</span> <span class="dv">120</span> <span class="dv">180</span> <span class="dv">1</span> &#39;(filled))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img54.png >

</td>
<td>

<div class="sourceCode" id="cb153"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb154"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true"></a>(img-rectangle my-img <span class="dv">10</span> <span class="dv">10</span> <span class="dv">120</span> <span class="dv">180</span> <span class="dv">1</span> &#39;(rounded <span class="dv">45</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img55.png >

</td>
<td>

<div class="sourceCode" id="cb155"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-setpix">img-setpix</h3>
<p>Draw a pixel into an image. The form of an <code>img-setpix</code> expression is <code>(img-setpix image x y color)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>image</code></td>
<td>An image buffer for example created using img-buffer.</td>
</tr>
<tr class="even">
<td><code>x y</code></td>
<td>Position x,y.</td>
</tr>
<tr class="odd">
<td><code>color</code></td>
<td>Color value, range determined by image buffer color depth.</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb156"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true"></a>(img-setpix my-img <span class="dv">10</span> <span class="dv">10</span> <span class="dv">1</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img56.png >

</td>
<td>

<div class="sourceCode" id="cb157"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-getpix">img-getpix</h3>
<p>Get a pixel value from an image. The form of an <code>img-getpix</code> expression is <code>(img-getpix image x y)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>image</code></td>
<td>An image buffer for example created using img-buffer.</td>
</tr>
<tr class="even">
<td><code>x y</code></td>
<td>Position x,y.</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb158"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true"></a>(img-getpix my-img <span class="dv">10</span> <span class="dv">10</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img57.png >

</td>
<td>

<div class="sourceCode" id="cb159"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true"></a>0u32</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-text">img-text</h3>
<p>Draw text into an image. The form of an <code>img-text</code> expression is <code>(img-text image x1 y1 fg bg font)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>image</code></td>
<td>An image buffer for example created using img-buffer.</td>
</tr>
<tr class="even">
<td><code>x1 y1</code></td>
<td>Position x,y.</td>
</tr>
<tr class="odd">
<td><code>fg bg</code></td>
<td>Foreground and Background color.</td>
</tr>
<tr class="even">
<td><code>font</code></td>
<td>font to use. This should be a bin type font as created by for example VESC Tool. The font file can be <code>imported</code> or loaded depending on platform</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb160"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true"></a>(img-text my-img <span class="dv">40</span> <span class="dv">40</span> <span class="dv">1</span> <span class="dv">0</span> font <span class="st">&quot;LispBM&quot;</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img58.png >

</td>
<td>

<div class="sourceCode" id="cb161"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb162"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true"></a>(img-text my-img <span class="dv">40</span> <span class="dv">120</span> <span class="dv">1</span> <span class="dv">0</span> font <span class="st">&quot;LispBM&quot;</span> <span class="at">&#39;up</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img59.png >

</td>
<td>

<div class="sourceCode" id="cb163"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb164"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true"></a>(img-text my-img <span class="dv">40</span> <span class="dv">40</span> <span class="dv">1</span> <span class="dv">0</span> font <span class="st">&quot;LispBM&quot;</span> <span class="at">&#39;down</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img60.png >

</td>
<td>

<div class="sourceCode" id="cb165"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="img-triangle">img-triangle</h3>
<p>Draw a triangle into an image. The form of an <code>img-triangle</code> expression is <code>(img-triangle image x1 y1 x2 y2 x3 y3 color ..option)</code>.</p>
<table>
<thead>
<tr class="header">
<th>Arg</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>image</code></td>
<td>An image buffer for example created using img-buffer.</td>
</tr>
<tr class="even">
<td><code>x1 y1</code></td>
<td>Position first point x,y.</td>
</tr>
<tr class="odd">
<td><code>x2 y2</code></td>
<td>Position second point x,y.</td>
</tr>
<tr class="even">
<td><code>x3 y3</code></td>
<td>Position third point x,y.</td>
</tr>
<tr class="odd">
<td><code>color</code></td>
<td>Color value, range determined by image buffer color depth.</td>
</tr>
</tbody>
</table>
<br> 

<table>
<thead>
<tr class="header">
<th>Option</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>dotted</code></td>
<td>Dotted or dashed, two numeric arguments specifying length of dash and distance between dashes.</td>
</tr>
<tr class="even">
<td><code>filled</code></td>
<td>Filled, no arguments.</td>
</tr>
<tr class="odd">
<td><code>thickness</code></td>
<td>Thickness of line, one argument specifying thickness in pixels.</td>
</tr>
</tbody>
</table>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb166"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true"></a>(img-triangle my-img <span class="dv">30</span> <span class="dv">60</span> <span class="dv">160</span> <span class="dv">120</span> <span class="dv">10</span> <span class="dv">180</span> <span class="dv">1</span>)</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img61.png >

</td>
<td>

<div class="sourceCode" id="cb167"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb168"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true"></a>(img-triangle my-img <span class="dv">30</span> <span class="dv">60</span> <span class="dv">160</span> <span class="dv">120</span> <span class="dv">10</span> <span class="dv">180</span> <span class="dv">1</span> &#39;(thickness <span class="dv">5</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img62.png >

</td>
<td>

<div class="sourceCode" id="cb169"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb170"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true"></a>(img-triangle my-img <span class="dv">30</span> <span class="dv">60</span> <span class="dv">160</span> <span class="dv">120</span> <span class="dv">10</span> <span class="dv">180</span> <span class="dv">1</span> &#39;(filled))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img63.png >

</td>
<td>

<div class="sourceCode" id="cb171"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb172"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true"></a>(img-triangle my-img <span class="dv">30</span> <span class="dv">60</span> <span class="dv">160</span> <span class="dv">120</span> <span class="dv">10</span> <span class="dv">180</span> <span class="dv">1</span> &#39;(dotted <span class="dv">14</span> <span class="dv">14</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img64.png >

</td>
<td>

<div class="sourceCode" id="cb173"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h1 id="examples">Examples</h1>
<p>These examples are leaving out the details on how to setup and initialize any particular display you may have connected to your embedded system. For information on how to initialize a display on a VESC EXPRESS platform see <a href="https://github.com/vedderb/vesc_express/tree/main/main/display">vesc_express display documentation</a>.</p>
<h3 id="example-sierpinski-triangle">Example: Sierpinski triangle</h3>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb174"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true"></a>(define w <span class="dv">320</span>)</span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true"></a>(define h <span class="dv">200</span>)</span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true"></a>(define corners (<span class="kw">list</span> (<span class="kw">cons</span> <span class="dv">10</span> (<span class="kw">-</span> h <span class="dv">10</span>)) (<span class="kw">cons</span> (<span class="kw">-</span> w <span class="dv">10</span>) (<span class="kw">-</span> h <span class="dv">10</span>)) (<span class="kw">cons</span> (<span class="kw">/</span> w <span class="dv">2</span>) <span class="dv">10</span>)))</span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true"></a>(define s-img (img-buffer <span class="at">&#39;indexed2</span> w h))</span>
<span id="cb174-5"><a href="#cb174-5" aria-hidden="true"></a>(defun point (p)</span>
<span id="cb174-6"><a href="#cb174-6" aria-hidden="true"></a>  (img-setpix s-img (car p) (cdr p) <span class="dv">1</span>))</span>
<span id="cb174-7"><a href="#cb174-7" aria-hidden="true"></a>(defun mid-point (p1 p2)</span>
<span id="cb174-8"><a href="#cb174-8" aria-hidden="true"></a>  (progn </span>
<span id="cb174-9"><a href="#cb174-9" aria-hidden="true"></a>      (<span class="kw">let</span> ((x (<span class="kw">/</span> (<span class="kw">+</span> (car p1) (car p2)) <span class="dv">2</span>))</span>
<span id="cb174-10"><a href="#cb174-10" aria-hidden="true"></a>            (y (<span class="kw">/</span> (<span class="kw">+</span> (cdr p1) (cdr p2)) <span class="dv">2</span>)))</span>
<span id="cb174-11"><a href="#cb174-11" aria-hidden="true"></a>           (<span class="kw">cons</span> x y))))</span>
<span id="cb174-12"><a href="#cb174-12" aria-hidden="true"></a>(defun sierp (n corners p)</span>
<span id="cb174-13"><a href="#cb174-13" aria-hidden="true"></a>  (<span class="kw">if</span> (<span class="kw">=</span> n <span class="dv">0</span>) <span class="va">nil</span> (<span class="kw">let</span> ((i (<span class="kw">mod</span> (<span class="kw">rand</span>) <span class="dv">3</span>))</span>
<span id="cb174-14"><a href="#cb174-14" aria-hidden="true"></a>                        (target (ix corners i))</span>
<span id="cb174-15"><a href="#cb174-15" aria-hidden="true"></a>                        (mid (mid-point p target)))</span>
<span id="cb174-16"><a href="#cb174-16" aria-hidden="true"></a>                       (progn </span>
<span id="cb174-17"><a href="#cb174-17" aria-hidden="true"></a>                           (point mid)</span>
<span id="cb174-18"><a href="#cb174-18" aria-hidden="true"></a>                           (sierp (<span class="kw">-</span> n <span class="dv">1</span>) corners mid)))))</span>
<span id="cb174-19"><a href="#cb174-19" aria-hidden="true"></a>(sierp <span class="dv">25000</span> corners (car corners))</span>
<span id="cb174-20"><a href="#cb174-20" aria-hidden="true"></a>(disp-render s-img <span class="dv">0</span> <span class="dv">0</span> &#39;(<span class="dv">0</span> <span class="dv">16777215</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img65.png >

</td>
<td>

<div class="sourceCode" id="cb175"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<hr />
<h3 id="example-rotated-llama">Example: rotated llama</h3>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb176"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true"></a>(<span class="kw">import</span> <span class="st">&quot;images/lama2.bin&quot;</span> <span class="at">&#39;pic</span>)</span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true"></a>(define img (img-buffer <span class="at">&#39;indexed2</span> <span class="dv">320</span> <span class="dv">200</span>))</span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true"></a>(img-blit img pic <span class="dv">10</span> <span class="dv">10</span> <span class="dv">-1</span> &#39;(rotate <span class="dv">128</span> <span class="dv">128</span> <span class="dv">45</span>))</span>
<span id="cb176-4"><a href="#cb176-4" aria-hidden="true"></a>(disp-render img <span class="dv">0</span> <span class="dv">0</span> &#39;(<span class="dv">0</span> <span class="dv">16711680</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img66.png >

</td>
<td>

<div class="sourceCode" id="cb177"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<p>Note that <code>import</code> is a feature of the VESC integration of LispBM and not really a part of core LispBM. The LispBM REPL does not have an import feature currently.</p>
<p>In the "Desktop" LispBM REPL the rotated llama examples looks as follows.</p>
<table>
<tr>
<td> Example </td> <td> Image </td> <td> Result </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb178"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true"></a>(define pic (<span class="kw">load-file</span> (fopen <span class="st">&quot;images/lama2.bin&quot;</span> <span class="st">&quot;r&quot;</span>)))</span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true"></a>(define img (img-buffer <span class="at">&#39;indexed2</span> <span class="dv">320</span> <span class="dv">200</span>))</span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true"></a>(img-blit img pic <span class="dv">10</span> <span class="dv">10</span> <span class="dv">-1</span> &#39;(rotate <span class="dv">128</span> <span class="dv">128</span> <span class="dv">45</span>))</span>
<span id="cb178-4"><a href="#cb178-4" aria-hidden="true"></a>(disp-render img <span class="dv">100</span> <span class="dv">0</span> &#39;(<span class="dv">0</span> <span class="dv">16711680</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img67.png >

</td>
<td>

<div class="sourceCode" id="cb179"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb180"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true"></a>(disp-clear)</span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true"></a>(define pic (<span class="kw">load-file</span> (fopen <span class="st">&quot;images/lama2.bin&quot;</span> <span class="st">&quot;r&quot;</span>)))</span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true"></a>(define img128x128 (img-buffer <span class="at">&#39;indexed2</span> <span class="dv">128</span> <span class="dv">128</span>))</span>
<span id="cb180-4"><a href="#cb180-4" aria-hidden="true"></a>(img-blit img128x128 pic <span class="dv">0</span> <span class="dv">0</span> <span class="dv">-1</span> &#39;(scale <span class="fl">0.500000</span>f32) &#39;(rotate <span class="dv">128</span> <span class="dv">128</span> <span class="dv">45</span>))</span>
<span id="cb180-5"><a href="#cb180-5" aria-hidden="true"></a>(disp-render img128x128 <span class="dv">10</span> <span class="dv">10</span> &#39;(<span class="dv">0</span> <span class="dv">16711680</span>))</span>
<span id="cb180-6"><a href="#cb180-6" aria-hidden="true"></a>(img-clear img128x128)</span>
<span id="cb180-7"><a href="#cb180-7" aria-hidden="true"></a>(img-blit img128x128 pic <span class="dv">0</span> <span class="dv">0</span> <span class="dv">-1</span> &#39;(scale <span class="fl">0.500000</span>f32) &#39;(rotate <span class="dv">128</span> <span class="dv">128</span> <span class="dv">-45</span>))</span>
<span id="cb180-8"><a href="#cb180-8" aria-hidden="true"></a>(disp-render img128x128 <span class="dv">148</span> <span class="dv">10</span> &#39;(<span class="dv">0</span> <span class="dv">65280</span>))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-img68.png >

</td>
<td>

<div class="sourceCode" id="cb181"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true"></a>t</span></code></pre></div>
</td>
</tr>
</table>

<table>
<tr>
<td> Example </td> <td> Animation </td>
</tr>
<tr>
<td>

<div class="sourceCode" id="cb182"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true"></a>(define pic (<span class="kw">load-file</span> (fopen <span class="st">&quot;images/lama2.bin&quot;</span> <span class="st">&quot;r&quot;</span>)))</span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true"></a>(define img (img-buffer <span class="at">&#39;indexed2</span> <span class="dv">128</span> <span class="dv">128</span>))</span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true"></a>(define m (<span class="kw">/</span> <span class="fl">360.000000</span>f32 <span class="fl">100.000000</span>f32))</span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true"></a>(disp-clear)</span>
<span id="cb182-5"><a href="#cb182-5" aria-hidden="true"></a>(loopfor i <span class="dv">0</span> (<span class="kw">&lt;</span> i <span class="dv">100</span>) (<span class="kw">+</span> i <span class="dv">1</span>)</span>
<span id="cb182-6"><a href="#cb182-6" aria-hidden="true"></a>         (progn </span>
<span id="cb182-7"><a href="#cb182-7" aria-hidden="true"></a>             (var rot (<span class="kw">list</span> <span class="at">&#39;rotate</span> <span class="dv">128</span> <span class="dv">128</span> (<span class="kw">*</span> i m)))</span>
<span id="cb182-8"><a href="#cb182-8" aria-hidden="true"></a>             (img-blit img pic <span class="dv">0</span> <span class="dv">0</span> <span class="dv">-1</span> &#39;(scale <span class="fl">0.500000</span>f32) rot)</span>
<span id="cb182-9"><a href="#cb182-9" aria-hidden="true"></a>             (disp-render img <span class="dv">10</span> <span class="dv">10</span> &#39;(<span class="dv">0</span> <span class="dv">16711680</span>))))</span></code></pre></div>
</td>
<td>

<img src=./images/disp-anm1.gif >

</td>
</tr>
</table>

<hr />
<p>This document was generated by LispBM version 0.36.0</p>
</div> <!-- Close pagefind-body -->
</div> <!-- Close container -->

<footer style="margin-top: 50px; padding: 20px; background: #f8f9fa; border-top: 1px solid #dee2e6; text-align: center;">
  <p>
    <a href="index.html" style="color: #007bff; text-decoration: none;">‚Üê Back to Reference Manual Index</a> |
    <a href="https://www.lispbm.com/" style="color: #007bff; text-decoration: none;">LispBM Home</a>
  </p>

  <p>
    Please contact me with questions, suggestions or feedback at blog
    (dot) joel (dot) svensson (at) gmail (dot) com or join the
    <a href="https://discord.gg/KgD4WcnFjv">Discord server</a>.
  </p>

  <p>&copy; Copyright 2026 Bo Joel Svensson</p>

  <p><small>This page was generated using <a href="https://pandoc.org/">Pandoc</a>.</small></p>
</footer>

</body>
</html>
