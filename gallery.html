<HTML lang="en-US">

<HEAD>  
  
  <meta charset="UTF-8">
  <meta name="description" content="LispBM Gallery - Showcase of LispBM projects, creations, and community contributions. Explore what people have built with LispBM, the Lisp for microcontrollers.">
  <meta name="keywords" content="lispbm gallery, lispbm projects, lispbm showcase, lisp microcontroller projects, embedded lisp examples, esp32 lisp projects, stm32 lisp projects, vesc lisp examples, lispbm community creations, iot lisp projects, embedded systems showcase, microcontroller lisp examples">
  <meta name="author" content="Bo Joel Svensson">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>LispBM Gallery - Community Projects and Creations</title>

  <!-- SEO Meta Tags -->
  <link rel="canonical" href="https://www.lispbm.com/gallery.html">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="LispBM Gallery - Community Projects and Creations">
  <meta property="og:description" content="Showcase of LispBM projects, creations, and community contributions. Explore what people have built with LispBM, the Lisp for microcontrollers.">
  <meta property="og:image" content="https://www.lispbm.com/images/lispbm_llama_small.png">
  <meta property="og:url" content="https://www.lispbm.com/gallery.html">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="LispBM">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="LispBM Gallery - Community Projects and Creations">
  <meta name="twitter:description" content="Showcase of LispBM projects, creations, and community contributions. Explore what people have built with LispBM, the Lisp for microcontrollers.">
  <meta name="twitter:image" content="https://www.lispbm.com/images/lispbm_llama_small.png">

  <link rel="apple-touch-icon" sizes="180x180" href="./ico/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./ico/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./ico/favicon-16x16.png">
  <link rel="shortcut icon" href="./ico/favicon.ico">
  <link rel="icon" type="image/vnd.microsoft.icon" href="./ico/favicon.ico">
  <link rel="icon" type="image/x-icon" href="./ico/favicon.ico">
  <link rel="icon" href="./ico/favicon.ico">
  <link rel="manifest" href="./ico/site.webmanifest">

  <!-- RSS Feed -->
  <link rel="alternate" type="application/rss+xml" title="LispBM Feed" href="https://www.lispbm.com/feed.xml">

  <link rel="stylesheet" href="styles.css">

</HEAD>

<style type="text/css">
  /* Gallery-specific styles */

  .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 30px;
      padding: 20px 0;
  }

  .gallery-item {
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
  }

  .gallery-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
  }

  /* Modal overlay styles */
  .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
  }

  .modal-overlay.active {
      opacity: 1;
      visibility: visible;
  }

  .modal-content {
      max-width: 90vw;
      max-height: 90vh;
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      transform: scale(0.7);
      transition: transform 0.3s ease;
  }

  .modal-overlay.active .modal-content {
      transform: scale(1);
  }

  .modal-image {
      width: 100%;
      height: auto;
      max-height: 70vh;
      object-fit: contain;
      display: block;
  }

  .modal-caption {
      padding: 20px;
      text-align: center;
      background: white;
  }

  .modal-title {
      font-weight: bold;
      color: #333;
      margin-bottom: 8px;
      font-size: 1.2em;
  }

  .modal-description {
      color: #666;
      font-size: 1em;
      line-height: 1.4;
      margin-bottom: 10px;
  }

  .modal-attribution {
      color: #888;
      font-size: 0.9em;
      font-style: italic;
  }

  .modal-close {
      position: absolute;
      top: 15px;
      right: 20px;
      background: rgba(255, 255, 255, 0.9);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      font-size: 24px;
      font-weight: bold;
      color: #333;
      cursor: pointer;
      transition: background 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
  }

  .modal-close:hover {
      background: white;
  }

  .gallery-item img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      display: block;
  }

  .gallery-item-caption {
      padding: 15px;
      text-align: center;
      background: white;
  }

  .gallery-item-title {
      font-weight: bold;
      color: #333;
      margin-bottom: 5px;
      font-size: 1.1em;
  }

  .gallery-item-description {
      color: #666;
      font-size: 0.9em;
      line-height: 1.4;
      margin-bottom: 8px;
  }

  .gallery-item-attribution {
      color: #888;
      font-size: 0.8em;
      font-style: italic;
  }

  /* Gallery-specific responsive design */
  @media (max-width: 768px) {
      .gallery-grid {
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
          gap: 20px;
      }

      .gallery-item img {
          height: 200px;
      }
  }

  @media (max-width: 480px) {
      .gallery-grid {
          grid-template-columns: 1fr;
      }
  }
</style>

<BODY class="with-background">

<div class="container">
  <div class="banner"></div>
  <a href="index.html" class="back-link">‚Üê Back to Main Site</a>

  <section>
  <h1>LispBM Gallery</h1>
  
  <p>
    Welcome to the LispBM Gallery! This showcase features projects, creations, and contributions from the LispBM community. 
    Have you built something cool with LispBM? We'd love to feature it here! Send us your pictures and project details.
  </p>
  </section>
  
  <div id="dataSourceNotice" style="display: none; background: #fff3cd; border: 1px solid #ffeaa7; color: #856404; padding: 10px; border-radius: 5px; margin-bottom: 20px; text-align: center;">
    <strong>Notice:</strong> Using fallback data - CSV file could not be loaded.
  </div>

  <div class="gallery-grid" id="galleryGrid">
    <!-- Gallery items will be populated by JavaScript -->
  </div>
</div>

<!-- Modal overlay for image popup -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal-content">
    <button class="modal-close" id="modalClose">&times;</button>
    <img class="modal-image" id="modalImage" src="" alt="">
    <div class="modal-caption">
      <div class="modal-title" id="modalTitle"></div>
      <div class="modal-description" id="modalDescription"></div>
      <div class="modal-attribution" id="modalAttribution"></div>
    </div>
  </div>
</div>

<script src="gallery-common.js"></script>
<script>
// Function to create gallery items
function createGalleryGrid() {
  const galleryGrid = document.getElementById('galleryGrid');
  
  galleryImages.forEach((image, index) => {
    const galleryItem = document.createElement('div');
    galleryItem.className = 'gallery-item';
    
    const formattedAttribution = formatAttribution(image.attribution);
    
    galleryItem.innerHTML = `
      <img src="${image.src}" alt="${image.title}" loading="lazy">
      <div class="gallery-item-caption">
        <div class="gallery-item-title">${image.title}</div>
        <div class="gallery-item-description">${image.description}</div>
        <div class="gallery-item-attribution">Credit: ${formattedAttribution}</div>
      </div>
    `;
    
    // Add click event to open modal
    galleryItem.addEventListener('click', () => openModal(image, image.attribution));
    
    galleryGrid.appendChild(galleryItem);
  });
}

// Function to open modal with image details
function openModal(image, attribution) {
  const modal = document.getElementById('modalOverlay');
  const modalImage = document.getElementById('modalImage');
  const modalTitle = document.getElementById('modalTitle');
  const modalDescription = document.getElementById('modalDescription');
  const modalAttribution = document.getElementById('modalAttribution');
  
  modalImage.src = image.src;
  modalImage.alt = image.title;
  modalTitle.textContent = image.title;
  modalDescription.textContent = image.description;
  modalAttribution.innerHTML = `Credit: ${formatAttribution(attribution)}`;
  
  modal.classList.add('active');
  document.body.style.overflow = 'hidden'; // Prevent background scrolling
}

// Function to close modal
function closeModal() {
  const modal = document.getElementById('modalOverlay');
  modal.classList.remove('active');
  document.body.style.overflow = ''; // Restore background scrolling
}

// Initialize gallery when page loads
async function initGallery() {
  await loadGalleryData('dataSourceNotice');
  createGalleryGrid();
  setupModalEvents();
}

// Setup modal event listeners
function setupModalEvents() {
  const modal = document.getElementById('modalOverlay');
  const closeButton = document.getElementById('modalClose');
  
  // Close button click
  closeButton.addEventListener('click', closeModal);
  
  // Click outside modal content to close
  modal.addEventListener('click', (e) => {
    if (e.target === modal) {
      closeModal();
    }
  });
  
  // ESC key to close
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modal.classList.contains('active')) {
      closeModal();
    }
  });
}

window.addEventListener('load', initGallery);
</script>

</BODY>
</HTML>
